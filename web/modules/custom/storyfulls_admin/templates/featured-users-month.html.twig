<div class="manage-page">
  <h1 class="page-title">Featured Users of the Month</h1>
  
  <div class="featured-users-form">
    <form method="post" action="/admin/dashboard/featured-users-month">
      <div class="form-row">
        <div class="form-column">
          <div class="form-group">
            <label for="author">Children Author of the Month</label>
            <select name="author" id="author" class="form-select user-select">
              <option value="">-- Select Author --</option>
              {% for user in users %}
                <option value="{{ user.uid }}" {% if user.uid == current_author_uid %}selected{% endif %}>{{ user.name }}</option>
              {% endfor %}
            </select>
          </div>
        </div>

        <div class="form-column">
          <div class="form-group">
            <label for="reviewer">Reviewer of the Month</label>
            <select name="reviewer" id="reviewer" class="form-select user-select">
              <option value="">-- Select Reviewer --</option>
              {% for user in users %}
                <option value="{{ user.uid }}" {% if user.uid == current_reviewer_uid %}selected{% endif %}>{{ user.name }}</option>
              {% endfor %}
            </select>
          </div>
        </div>
      </div>

      <button type="submit" class="btn btn-primary">Update Featured Users</button>
    </form>
  </div>
</div>

<style>
.featured-users-form {
  max-width: 900px;
  margin: 2rem auto 0;
}

.form-row {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 2rem;
  margin-bottom: 2rem;
}

.form-column {
  flex: 1;
}

.featured-users-form .form-group {
  margin-bottom: 1.5rem;
}

.featured-users-form label {
  display: block;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: #2C3E50;
  font-size: 16px;
}

.featured-users-form .form-select {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  font-family: inherit;
  background: white;
  cursor: pointer;
}

.featured-users-form .form-select:focus {
  outline: none;
  border-color: #4A90E2;
  box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
}

.featured-users-form .btn-primary {
  background: #4A90E2;
  color: white;
  padding: 0.75rem 2rem;
  border: none;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
  transition: background 0.2s;
  display: block;
  margin: 0 auto;
}

.featured-users-form .btn-primary:hover {
  background: #357ABD;
}

@media (max-width: 768px) {
  .form-row {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
}
</style>

<script>
(function() {
  // Add search functionality to select dropdowns
  document.addEventListener('DOMContentLoaded', function() {
    const selects = document.querySelectorAll('.user-select');
    
    selects.forEach(function(select) {
      // Make it searchable by adding a simple filter
      select.addEventListener('keyup', function(e) {
        const searchText = e.target.value.toLowerCase();
        const options = select.querySelectorAll('option');
        
        options.forEach(function(option) {
          const text = option.textContent.toLowerCase();
          if (text.includes(searchText) || option.value === '') {
            option.style.display = '';
          } else {
            option.style.display = 'none';
          }
        });
      });
    });
  });
})();
</script>
