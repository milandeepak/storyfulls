{#
/**
 * @file
 * Edit Favorite Books Template
 */
#}
<div class="edit-favorites-page">
  <main class="edit-favorites-main">
    <div class="edit-favorites-container">
      
      {# Page Header #}
      <div class="edit-favorites-header">
        <div class="header-icon">
          <img src="/themes/custom/storyfulls/images/booksimageforfavoritebooks.png" alt="Books Icon" class="page-icon">
        </div>
        <h1 class="edit-favorites-title">Edit Favourite Books</h1>
        <p class="edit-favorites-subtitle">Add up to 5 of your favourite books. Search from our collection!</p>
      </div>

      {# Edit Form #}
      <form method="post" class="edit-favorites-form" id="editBooksForm">
        
        <input type="hidden" name="books_data" id="booksData">
        
        {# Books List #}
        <div class="favorites-list-section">
          <div class="favorites-books-grid" id="booksList">
            
            {% if favorite_books %}
              {% for book in favorite_books %}
                <div class="book-item-card" data-id="{{ book.id }}">
                  <div class="book-cover">
                    {% if book.cover_url %}
                      <img src="{{ book.cover_url }}" alt="{{ book.title }}">
                    {% else %}
                      <div class="book-cover-placeholder">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                          <path d="M10 6H30V34H10V6Z" stroke="currentColor" stroke-width="2"/>
                          <path d="M14 12H26M14 18H26M14 24H22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </div>
                    {% endif %}
                  </div>
                  <div class="book-info">
                    <h4 class="book-title">{{ book.title }}</h4>
                  </div>
                  <button type="button" class="remove-book-btn" aria-label="Remove">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                      <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                </div>
              {% endfor %}
            {% endif %}
            
          </div>
          
          {# Search Section #}
          <div class="book-search-section">
            <h3 class="search-title">Search for Books</h3>
            <div class="search-input-wrapper">
              <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <circle cx="9" cy="9" r="6" stroke="currentColor" stroke-width="2"/>
                <path d="M13 13L17 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <input type="text" id="bookSearchInput" class="search-input" placeholder="Type to search for books...">
            </div>
            <div id="bookSearchResults" class="search-results"></div>
          </div>
          
          <p class="favorites-hint">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z" stroke="#4DD0E1" stroke-width="2"/>
              <path d="M8 5V8M8 11H8.01" stroke="#4DD0E1" stroke-width="2" stroke-linecap="round"/>
            </svg>
            You can add up to 5 favourite books from our collection.
          </p>
        </div>

        {# Form Actions #}
        <div class="form-actions">
          <a href="/user" class="btn btn-cancel">Cancel</a>
          <button type="submit" class="btn btn-save">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
              <path d="M15 5L7 13L3 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Save Changes</span>
          </button>
        </div>

      </form>

    </div>
  </main>
</div>
